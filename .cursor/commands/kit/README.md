# Kit 工作流 (自动化版)

轻量级规范驱动开发工作流，支持 Cursor Commands 自动流转。

---

## 📁 目录结构

```
.cursor/commands/kit/
├── spec.md              # 需求规范 (入口)
├── plan/
│   ├── plan.md          # 实现计划
│   └── research.md      # 技术研究
├── task/
│   ├── task.md          # 任务执行
│   └── rules.md         # 执行规范
├── check/
│   └── check.md         # 检查验收
├── history/             # 历史文档归档
├── rules/               # 项目规则
│   ├── clean-code.mdc
│   └── react.mdc
└── scripts/
    └── check-prerequisites.sh
```

---

## 🔄 工作流程

```
┌─────────┐    自动     ┌─────────┐    确认     ┌─────────┐    自动     ┌─────────┐
│  spec   │ ────────▶  │  plan   │ ────────▶  │  task   │ ────────▶  │  check  │
│ (理解)  │            │ (计划)  │   询问      │ (执行)  │            │ (验收)  │
└─────────┘            └─────────┘            └─────────┘            └─────────┘
                                                                          │
                                                                          ▼
                                                                    ┌─────────┐
                                                                    │ history │
                                                                    │ (归档)  │
                                                                    └─────────┘
```

### 流转规则

| 阶段 | 流转方式 | 说明 |
|------|----------|------|
| spec → plan | ⚡ 自动 | 需求理解完成后自动进入计划阶段 |
| plan → task | 🔄 询问确认 | 方案确定后需用户确认才执行 |
| task → check | ⚡ 自动 | 任务完成后自动进入检查阶段 |
| check → history | 📝 条件判断 | 有文档则询问更新，无则自动新建 |

---

## 🚀 快速开始

```bash
# 在 Cursor 中执行命令
/kit.spec [你的需求描述]
```

---

## 📋 各阶段说明

### 1. Spec (需求规范)

- 理解需求背景
- 分析项目上下文
- 查阅历史文档
- 明确改动边界

### 2. Plan (实现计划)

- 确认技术方案
- 定位代码位置
- 拆分执行步骤
- 评估风险

### 3. Task (任务执行)

- 按步骤执行代码修改
- 遵循项目规范 (rules/)
- 追踪执行进度

### 4. Check (检查验收)

- 需求检查
- 技术检查
- 交付检查
- 更新 History 文档

---

## ⚙️ 特点

- ✅ **自动化**: Cursor Commands 自动流转
- ✅ **可控**: 关键节点需用户确认
- ✅ **规范**: 集成项目代码规范
- ✅ **归档**: 自动维护历史文档
